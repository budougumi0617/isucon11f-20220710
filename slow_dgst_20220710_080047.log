
# 74.1s user time, 330ms system time, 215.32M rss, 222.35M vsz
# Current date: Sun Jul 10 08:02:02 2022
# Hostname: ip-172-31-38-11
# Files: /var/log/mysql/slow.log
# Overall: 585.13k total, 95 unique, 1.82k QPS, 0.41x concurrency ________
# Time range: 2022-07-10T07:55:53 to 2022-07-10T08:01:14
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           132s     1us   253ms   225us   725us     3ms    54us
# Lock time          826ms       0   242ms     1us     1us   334us       0
# Rows sent        420.56k       0     622    0.74    0.99    4.33       0
# Rows examine       5.45M       0  16.25k    9.77    8.91  209.22       0
# Bytes sent        91.94M       0  11.25k  164.77  719.66  451.49   69.19
# Query size        41.38M       6 632.12k   74.15  271.23   1.15k   31.70
# Bytes receiv           0       0       0       0       0       0       0
# Created tmp            8       0       1    0.00       0    0.00       0
# Created tmp       11.94k       0       3    0.02       0    0.14       0
# Errno              8.30k       0   1.04k    0.01       0    3.74       0
# Read first         1.37k       0       2    0.00       0    0.05       0
# Read key           4.34M       0  17.40k    7.78    2.90  218.63       0
# Read last          2.98k       0       1    0.01       0    0.07       0
# Read next          2.74M       0  10.45k    4.91    2.90  132.04       0
# Read prev        129.28k       0     253    0.23       0    3.51       0
# Read rnd           8.02k       0      11    0.01       0    0.12       0
# Read rnd nex     247.56k       0   1.22k    0.43       0    6.20       0
# Sort merge p          19       0       1    0.00       0    0.01       0
# Sort range c           0       0       0       0       0       0       0
# Sort rows         71.18k       0     345    0.12       0    3.57       0
# Sort scan co       1.93k       0       1    0.00       0    0.06       0

# Profile
# Rank Query ID                     Response time Calls  R/Call V/M   Item
# ==== ============================ ============= ====== ====== ===== ====
#    1 0xDA556F9115773A1A99AA016... 29.8722 22.6% 171288 0.0002  0.00 ADMIN PREPARE
#    2 0x8082220C07E2A565D306665... 16.3165 12.4%    102 0.1600  0.03 SELECT users registrations courses registrations courses classes submissions
#    3 0xA9A13C7DE4DE6522B8635F3... 15.0372 11.4%   3751 0.0040  0.00 SELECT users registrations courses classes submissions
#    4 0x2BC75A9C3EB65F1EC570DFB...  6.7472  5.1%   4502 0.0015  0.01 SELECT announcements courses registrations unread_announcements
#    5 0xFFFCA4D67EA0A788813031B...  6.1628  4.7%  35470 0.0002  0.01 COMMIT
#    6 0x5A802CCF59216825CD74D1B...  6.0086  4.5%  15919 0.0004  0.00 SELECT submissions
#    7 0x98DD1BA507AB79261637698...  4.8915  3.7%   8752 0.0006  0.04 INSERT UPDATE submissions
#    8 0xAE994A27799DADD410E8483...  4.3724  3.3%   8822 0.0005  0.01 SELECT classes submissions
#    9 0x83A9085E3002B5EB279F551...  4.2521  3.2%  15919 0.0003  0.00 SELECT submissions
#   10 0x6C0FF098D63D248BBF3D405...  3.6005  2.7%   8173 0.0004  0.00 UPDATE submissions users
#   11 0x1F21068CC7652980263E823...  3.4364  2.6%   4562 0.0008  0.00 SELECT unread_announcements
#   12 0xF16955B9A50074ED04E1B8A...  3.3872  2.6%   9937 0.0003  0.01 SELECT announcements courses unread_announcements
#   13 0x27543A651E60736B5044388...  3.1459  2.4%   9935 0.0003  0.00 UPDATE unread_announcements
#   14 0x34680D6218DB2F97EAE350D...  2.7721  2.1%  10153 0.0003  0.01 INSERT unread_announcements
#   15 0x4A879C906EDA9FDE22E01B6...  2.5831  2.0%  12337 0.0002  0.00 SELECT registrations
#   16 0x9E2DA589A20EC24C34E11DD...  2.1503  1.6%  35500 0.0001  0.00 START
#   17 0x63C05502F034B2DB20500EA...  2.0684  1.6%   9293 0.0002  0.03 SELECT classes
#   18 0xD22122C68747429FE1B81D0...  1.8347  1.4%   9485 0.0002  0.00 SELECT courses
#   19 0x2AD72D6A4885FC60A40B335...  1.7657  1.3%   8764 0.0002  0.00 SELECT registrations
#   20 0x0CE2A86226457A4A9046E17...  1.6141  1.2%   8766 0.0002  0.00 SELECT courses
# MISC 0xMISC                       10.0607  7.6% 193703 0.0001   0.0 <75 ITEMS>

# Query 1: 2.06k QPS, 0.36x concurrency, ID 0xDA556F9115773A1A99AA0165670CE848 at byte 822100
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         29  171288
# Exec time     22     30s    21us    58ms   174us   690us   473us    60us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Bytes sent    35  32.45M      52   1.02k  198.64  511.45  169.41  118.34
# Query size    11   4.90M      30      30      30      30       0      30
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0       0       0       0       0       0       0       0
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 170724 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 171220 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###################
#   1ms  ##
#  10ms  #
# 100ms
#    1s
#  10s+
administrator command: Prepare\G

# Query 2: 1.31 QPS, 0.21x concurrency, ID 0x8082220C07E2A565D306665B3BC827B4 at byte 370837785
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.03
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     102
# Exec time     12     16s   296us   253ms   160ms   230ms    74ms   180ms
# Lock time      0   362us     2us     5us     3us     3us       0     3us
# Rows sent      1   4.49k       0      51   45.04   49.17   15.74   49.17
# Rows examine  26   1.43M      88  16.25k  14.35k  15.96k   5.09k  15.96k
# Bytes sent     0  81.45k      52     919  817.67  918.49  277.58  918.49
# Query size     0  85.07k     854     854     854     854       0     854
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    2     286       1       3    2.80    2.90    0.57    2.90
# Errno          0       0       0       0       0       0       0       0
# Read first    13     194       1       2    1.90    1.96    0.29    1.96
# Read key      35   1.53M      44  17.40k  15.36k  16.75k   5.36k  16.75k
# Read last      0       0       0       0       0       0       0       0
# Read next     33 941.85k      44  10.45k   9.23k  10.29k   3.29k  10.29k
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   3   9.16k       1     104   91.98  102.22   32.37  102.22
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (1/0%), 2022-07-10... (1/0%)... 100 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 100 more
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ######
#   1ms  ##
#  10ms  #####
# 100ms  ################################################################
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'users'\G
#    SHOW CREATE TABLE `isucholar`.`users`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'registrations'\G
#    SHOW CREATE TABLE `isucholar`.`registrations`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'courses'\G
#    SHOW CREATE TABLE `isucholar`.`courses`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'classes'\G
#    SHOW CREATE TABLE `isucholar`.`classes`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT IFNULL(SUM(`submissions`.`score` * `courses`.`credit`), 0) / 100 / `credits`.`credits` AS `gpa` FROM `users` JOIN (     SELECT `users`.`id` AS `user_id`, SUM(`courses`.`credit`) AS `credits`     FROM `users`     JOIN `registrations` ON `users`.`id` = `registrations`.`user_id`     JOIN `courses` ON `registrations`.`course_id` = `courses`.`id` AND `courses`.`status` = 'closed'     GROUP BY `users`.`id` ) AS `credits` ON `credits`.`user_id` = `users`.`id` JOIN `registrations` ON `users`.`id` = `registrations`.`user_id` JOIN `courses` ON `registrations`.`course_id` = `courses`.`id` AND `courses`.`status` = 'closed' LEFT JOIN `classes` ON `courses`.`id` = `classes`.`course_id` LEFT JOIN `submissions` ON `users`.`id` = `submissions`.`user_id` AND `submissions`.`class_id` = `classes`.`id` WHERE `users`.`type` = 'student' GROUP BY `users`.`id`\G

# Query 3: 48.09 QPS, 0.19x concurrency, ID 0xA9A13C7DE4DE6522B8635F3933142DB1 at byte 299085184
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    3751
# Exec time     11     15s   159us    36ms     4ms    12ms     4ms     2ms
# Lock time      4    38ms     1us    18ms    10us     2us   283us     1us
# Rows sent     35 150.74k       2      50   41.15   49.17   14.30   49.17
# Rows examine  34   1.91M       7     755  532.65  719.66  235.99  652.75
# Bytes sent     1   1.67M      77     560  467.87  537.02  139.00  537.02
# Query size     3   1.61M     450     450     450     450       0     450
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp   30   3.66k       1       1       1       1       0       1
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key      45   1.97M       9     757  550.45  755.64  245.54  755.64
# Read last      0       0       0       0       0       0       0       0
# Read next     24 680.18k       3     255  185.69  246.02   78.66  246.02
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex  62 154.40k       3      51   42.15   49.17   13.95   49.17
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (1/0%)... 3748 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 3747 more
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ##########
#   1ms  ################################################################
#  10ms  ########
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'users'\G
#    SHOW CREATE TABLE `isucholar`.`users`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'registrations'\G
#    SHOW CREATE TABLE `isucholar`.`registrations`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'courses'\G
#    SHOW CREATE TABLE `isucholar`.`courses`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'classes'\G
#    SHOW CREATE TABLE `isucholar`.`classes`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT IFNULL(SUM(`submissions`.`score`), 0) AS `total_score` FROM `users` JOIN `registrations` ON `users`.`id` = `registrations`.`user_id` JOIN `courses` ON `registrations`.`course_id` = `courses`.`id` LEFT JOIN `classes` ON `courses`.`id` = `classes`.`course_id` LEFT JOIN `submissions` ON `users`.`id` = `submissions`.`user_id` AND `submissions`.`class_id` = `classes`.`id` WHERE `courses`.`id` = '01G7KHSK6PJRNEX9YD9T27PEF2' GROUP BY `users`.`id`\G

# Query 4: 55.58 QPS, 0.08x concurrency, ID 0x2BC75A9C3EB65F1EC570DFB4E3F111C5 at byte 140567728
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-07-10T07:57:12 to 2022-07-10T07:58:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    4502
# Exec time      5      7s   139us    97ms     1ms     5ms     3ms   541us
# Lock time      3    28ms     1us     5ms     6us     2us   108us     1us
# Rows sent     19  80.82k       0      21   18.38   20.43    6.22   20.43
# Rows examine  14 804.70k       0     880  183.03  652.75  198.25   84.10
# Bytes sent    13  12.14M     321   3.53k   2.76k   3.19k  853.58   3.04k
# Query size     6   2.62M     611     613  611.15  592.07       0  592.07
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key      13 590.08k       1     529  134.22  463.90  138.08   62.76
# Read last    100   2.98k       0       1    0.68    0.99    0.46    0.99
# Read next      3 105.86k       0     176   24.08  151.03   51.36       0
# Read prev     87 113.59k       0     253   25.84   92.72   30.93   19.46
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows     49  35.38k       0     176    8.05   34.95   21.57       0
# Sort scan co  73   1.41k       0       1    0.32    0.99    0.46       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 4495 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 4500 more
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ###############################
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'announcements'\G
#    SHOW CREATE TABLE `isucholar`.`announcements`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'courses'\G
#    SHOW CREATE TABLE `isucholar`.`courses`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'registrations'\G
#    SHOW CREATE TABLE `isucholar`.`registrations`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'unread_announcements'\G
#    SHOW CREATE TABLE `isucholar`.`unread_announcements`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `announcements`.`id`, `courses`.`id` AS `course_id`, `courses`.`name` AS `course_name`, `announcements`.`title`, NOT `unread_announcements`.`is_deleted` AS `unread` FROM `announcements` JOIN `courses` ON `announcements`.`course_id` = `courses`.`id` JOIN `registrations` ON `courses`.`id` = `registrations`.`course_id` JOIN `unread_announcements` ON `announcements`.`id` = `unread_announcements`.`announcement_id` WHERE 1=1 AND `unread_announcements`.`user_id` = '01FF6J8XZGJ4HTCYNSPVZ7FRA3' AND `registrations`.`user_id` = '01FF6J8XZGJ4HTCYNSPVZ7FRA3' ORDER BY `announcements`.`id` DESC LIMIT 21 OFFSET 0\G

# Query 5: 427.35 QPS, 0.07x concurrency, ID 0xFFFCA4D67EA0A788813031B8BBC3B329 at byte 36802488
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          6   35470
# Exec time      4      6s    11us   101ms   173us   690us     1ms    44us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Bytes sent     0 381.03k      11      11      11      11       0      11
# Query size     0 207.83k       6       6       6       6       0       6
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0       0       0       0       0       0       0       0
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 35417 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 35463 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ######
#   1ms  ##
#  10ms  #
# 100ms  #
#    1s
#  10s+
COMMIT\G

# Query 6: 204.09 QPS, 0.08x concurrency, ID 0x5A802CCF59216825CD74D1B8629C98E7 at byte 367346400
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   15919
# Exec time      4      6s    71us    21ms   377us     1ms   659us   152us
# Lock time      6    55ms       0     8ms     3us     1us    72us     1us
# Rows sent      3  15.55k       1       1       1       1       0       1
# Rows examine  10 607.14k       0      50   39.05   49.17   15.12   46.83
# Bytes sent     1   1.08M      71      71      71      71       0      71
# Query size     3   1.24M      82      82      82      82       0      82
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0  15.55k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next     21 607.14k       0      50   39.05   49.17   15.12   46.83
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 15911 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 15911 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ###
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM `submissions` WHERE `class_id` = '01G7KHTSZR90EWQ56ER2W6SZYQ'\G

# Query 7: 138.92 QPS, 0.08x concurrency, ID 0x98DD1BA507AB79261637698A8004A814 at byte 94517437
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.04
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8752
# Exec time      3      5s    51us   131ms   558us     1ms     5ms    93us
# Lock time      2    20ms       0     3ms     2us     1us    37us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Bytes sent     0  94.02k      11      11      11      11       0      11
# Query size     4   1.91M     202     334  228.72  271.23   29.20  212.52
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0       3       0       1    0.00       0    0.02       0
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 8737 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 8750 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ########################################
#   1ms  ########
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
INSERT INTO `submissions` (`user_id`, `class_id`, `file_name`) VALUES ('01FF6J8XSCVHYX7ARMVQWG0W93', '01G7KHT05Q94AXQG97VEGYM3FN', '人間文化史導入_人間文化史導入 第三回講義_S02525.pdf') ON DUPLICATE KEY UPDATE `file_name` = VALUES(`file_name`)\G

# Query 8: 140.03 QPS, 0.07x concurrency, ID 0xAE994A27799DADD410E848351C4DFF53 at byte 94274506
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8822
# Exec time      3      4s    97us    74ms   495us     2ms     2ms   167us
# Lock time      2    22ms       0     1ms     2us     1us    23us     1us
# Rows sent      5  22.62k       1       5    2.63    4.96    1.31    1.96
# Rows examine   0  36.24k       1       9    4.21    8.91    2.64    2.90
# Bytes sent     9   9.01M     611   1.79k   1.05k   1.61k  323.20 1012.63
# Query size     6   2.51M     298     298     298     298       0     298
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0  31.24k       2       6    3.63    5.75    1.29    2.90
# Read last      0       0       0       0       0       0       0       0
# Read next      0  22.62k       1       5    2.63    4.96    1.31    1.96
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 8795 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 8820 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  #######
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'classes'\G
#    SHOW CREATE TABLE `isucholar`.`classes`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `classes`.*, `submissions`.`user_id` IS NOT NULL AS `submitted` FROM `classes` LEFT JOIN `submissions` ON `classes`.`id` = `submissions`.`class_id` AND `submissions`.`user_id` = '01FF6J8XXTJPCG9BQJY803Y67P' WHERE `classes`.`course_id` = '01G7KHSK8NJSQZPQXAX4R41AR1' ORDER BY `classes`.`part`\G

# Query 9: 204.09 QPS, 0.05x concurrency, ID 0x83A9085E3002B5EB279F5514D406099F at byte 361601028
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:28
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   15919
# Exec time      3      4s    45us    20ms   267us   839us   559us    93us
# Lock time      5    47ms       0     3ms     2us     1us    39us     1us
# Rows sent      3  14.20k       0       1    0.91    0.99    0.28    0.99
# Rows examine   0  14.20k       0       1    0.91    0.99    0.28    0.99
# Bytes sent     1   1.46M      90      97   96.34   92.72    1.24   92.72
# Query size     5   2.13M     140     140     140     140       0     140
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0  15.55k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 15913 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 15915 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  #########################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `submissions`.`score` FROM `submissions` WHERE `user_id` = '01FF6J8XN6D4CQFCAC164J9CVW' AND `class_id` = '01G7KHTR1C5C1WCDH58KJVDX8Q'\G

# Query 10: 129.73 QPS, 0.06x concurrency, ID 0x6C0FF098D63D248BBF3D40588EFB42EF at byte 56226610
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8173
# Exec time      2      4s   127us    22ms   440us     2ms   895us   194us
# Lock time      2    19ms       0     1ms     2us     1us    23us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0   7.98k       1       1       1       1       0       1
# Bytes sent     0 415.04k      52      52      52      52       0      52
# Query size     3   1.33M     169     171  170.00  166.51       0  166.51
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp   66   7.98k       1       1       1       1       0       1
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0  23.94k       3       3       3       3       0       3
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd      99   7.98k       1       1       1       1       0       1
# Read rnd nex   6  15.96k       2       2       2       2       0       2
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 8152 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 8171 more
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ######
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'submissions'\G
#    SHOW CREATE TABLE `isucholar`.`submissions`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'users'\G
#    SHOW CREATE TABLE `isucholar`.`users`\G
UPDATE `submissions` JOIN `users` ON `users`.`id` = `submissions`.`user_id` SET `score` = 77 WHERE `users`.`code` = 'S02886' AND `class_id` = '01G7KHSMNEJQJAJTDQ7MV59SX1'\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  `score` = 77 from `submissions` JOIN `users` ON `users`.`id` = `submissions`.`user_id` where  `users`.`code` = 'S02886' AND `class_id` = '01G7KHSMNEJQJAJTDQ7MV59SX1'\G

# Query 11: 56.32 QPS, 0.04x concurrency, ID 0x1F21068CC7652980263E82315944F5FD at byte 193856586
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:12 to 2022-07-10T07:58:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0    4562
# Exec time      2      3s    77us    26ms   753us     3ms     1ms   316us
# Lock time      1    11ms       0     2ms     2us     1us    33us     1us
# Rows sent      1   4.46k       1       1       1       1       0       1
# Rows examine   6 340.44k       0     176   76.42  151.03   46.94   80.10
# Bytes sent     0 316.31k      71      71      71      71       0      71
# Query size     1 494.51k     111     111     111     111       0     111
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0   4.46k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next     12 340.44k       0     176   76.42  151.03   46.94   80.10
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 4554 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 4560 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ###########
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'unread_announcements'\G
#    SHOW CREATE TABLE `isucholar`.`unread_announcements`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM `unread_announcements` WHERE `user_id` = '01FF6J8XR64F82G6S56TK41HEX' AND NOT `is_deleted`\G

# Query 12: 160.27 QPS, 0.05x concurrency, ID 0xF16955B9A50074ED04E1B8A511E35989 at byte 140566656
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-07-10T07:57:11 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    9937
# Exec time      2      3s    64us    94ms   340us     1ms     2ms   113us
# Lock time      4    37ms     1us     3ms     3us     2us    51us     1us
# Rows sent      2   9.70k       0       1    1.00    0.99    0.01    0.99
# Rows examine   0   9.70k       0       1    1.00    0.99    0.01    0.99
# Bytes sent     7   6.94M     390     952  732.38  833.10   58.77  719.66
# Query size    11   4.77M     503     503     503     503       0     503
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0  29.11k       2       3    3.00    2.90    0.01    2.90
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 9925 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 9935 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ######
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'announcements'\G
#    SHOW CREATE TABLE `isucholar`.`announcements`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'courses'\G
#    SHOW CREATE TABLE `isucholar`.`courses`\G
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'unread_announcements'\G
#    SHOW CREATE TABLE `isucholar`.`unread_announcements`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `announcements`.`id`, `courses`.`id` AS `course_id`, `courses`.`name` AS `course_name`, `announcements`.`title`, `announcements`.`message`, NOT `unread_announcements`.`is_deleted` AS `unread` FROM `announcements` JOIN `courses` ON `courses`.`id` = `announcements`.`course_id` JOIN `unread_announcements` ON `unread_announcements`.`announcement_id` = `announcements`.`id` WHERE `announcements`.`id` = '01G7KHTBPH3GKEBDTNJVKFWC8A' AND `unread_announcements`.`user_id` = '01FF6J8XY81G3VW73NGR5Z4ZWM'\G

# Query 13: 160.24 QPS, 0.05x concurrency, ID 0x27543A651E60736B50443886E289E35A at byte 303573883
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:11 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    9935
# Exec time      2      3s    71us    18ms   316us     1ms   668us   119us
# Lock time      2    20ms       0     1ms     2us     1us    24us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0   9.70k       1       1       1       1       0       1
# Bytes sent     0 504.51k      52      52      52      52       0      52
# Query size     3   1.45M     153     153     153     153       0     153
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0   9.70k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 9919 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 9933 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ##
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'unread_announcements'\G
#    SHOW CREATE TABLE `isucholar`.`unread_announcements`\G
UPDATE `unread_announcements` SET `is_deleted` = true WHERE `announcement_id` = '01G7KHV8WSCC31S5WC2QSCDWJM' AND `user_id` = '01FF6J8XH7M3FSWF92SRJKTDGF'\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  `is_deleted` = true from `unread_announcements` where  `announcement_id` = '01G7KHV8WSCC31S5WC2QSCDWJM' AND `user_id` = '01FF6J8XH7M3FSWF92SRJKTDGF'\G

# Query 14: 161.16 QPS, 0.04x concurrency, ID 0x34680D6218DB2F97EAE350D366B60E94 at byte 140576814
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1   10153
# Exec time      2      3s    42us    97ms   273us   972us     2ms    76us
# Lock time      2    20ms       0     2ms     1us     1us    34us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Bytes sent     0 109.07k      11      11      11      11       0      11
# Query size     3   1.29M     133     133     133     133       0     133
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0       0       0       0       0       0       0       0
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 10139 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 10149 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ##############
#   1ms  ####
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'unread_announcements'\G
#    SHOW CREATE TABLE `isucholar`.`unread_announcements`\G
INSERT INTO `unread_announcements` (`announcement_id`, `user_id`) VALUES ('01G7KHTC9SDKM7TSJS4RGCP6KE', '01FF6J8Y1E0G7CMX2TPMD5RMXK')\G

# Query 15: 195.83 QPS, 0.04x concurrency, ID 0x4A879C906EDA9FDE22E01B64DA82E819 at byte 111037736
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   12337
# Exec time      1      3s    43us    11ms   209us   839us   469us    76us
# Lock time      4    33ms       0     3ms     2us     1us    38us     1us
# Rows sent      2  12.05k       1       1       1       1       0       1
# Rows examine   0   9.70k       0       1    0.81    0.99    0.39    0.99
# Bytes sent     0 855.40k      71      71      71      71       0      71
# Query size     3   1.53M     130     130     130     130       0     130
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0  12.05k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 12320 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 12333 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ################
#   1ms  ###
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'registrations'\G
#    SHOW CREATE TABLE `isucholar`.`registrations`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM `registrations` WHERE `course_id` = '01G7KHSKBA4AGYECY9RSZZ0G5F' AND `user_id` = '01FF6J8XSCVHYX7ARMVQWG0W93'\G

# Query 16: 427.71 QPS, 0.03x concurrency, ID 0x9E2DA589A20EC24C34E11DDE0FBF5564 at byte 128850386
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:33
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          6   35500
# Exec time      1      2s     8us    10ms    60us   185us   227us    22us
# Lock time      0       0       0       0       0       0       0       0
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Bytes sent     0 381.35k      11      11      11      11       0      11
# Query size     1 589.36k      17      17      17      17       0      17
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0       0       0       0       0       0       0       0
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 35454 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (2/0%)... 35487 more
# Users        isucon
# Query_time distribution
#   1us  #
#  10us  ################################################################
# 100us  ####
#   1ms  #
#  10ms  #
# 100ms
#    1s
#  10s+
START TRANSACTION\G

# Query 17: 147.51 QPS, 0.03x concurrency, ID 0x63C05502F034B2DB20500EA0606444D4 at byte 305897903
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.03
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    9293
# Exec time      1      2s    40us   243ms   222us   799us     3ms    73us
# Lock time     32   266ms       0   242ms    28us     1us     2ms     1us
# Rows sent      2   9.07k       0       1    1.00    0.99    0.01    0.99
# Rows examine   0   9.07k       0       1    1.00    0.99    0.01    0.99
# Bytes sent     1   1.00M     106     113  113.00  112.70    0.15  112.70
# Query size     1 843.99k      93      93      93      93       0      93
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0   9.08k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 9282 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (1/0%)... 9290 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ############
#   1ms  ###
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'classes'\G
#    SHOW CREATE TABLE `isucholar`.`classes`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `submission_closed` FROM `classes` WHERE `id` = '01G7KHV6KGN8VW6CHXGQZ7Z1QC' FOR SHARE\G

# Query 18: 150.56 QPS, 0.03x concurrency, ID 0xD22122C68747429FE1B81D07D7E3DD52 at byte 259070293
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    9485
# Exec time      1      2s    42us    10ms   193us   799us   426us    76us
# Lock time      2    21ms       0     2ms     2us     1us    25us     1us
# Rows sent      2   9.26k       1       1       1       1       0       1
# Rows examine   0   9.26k       0       1    1.00    0.99    0.01    0.99
# Bytes sent     0 657.65k      71      71      71      71       0      71
# Query size     1 666.91k      72      72      72      72       0      72
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0   9.26k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 9471 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (1/0%)... 9482 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###############
#   1ms  ###
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'courses'\G
#    SHOW CREATE TABLE `isucholar`.`courses`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM `courses` WHERE `id` = '01G7KHTJSECPKF56YZ4RRHVRAB'\G

# Query 19: 139.11 QPS, 0.03x concurrency, ID 0x2AD72D6A4885FC60A40B335011BFB61C at byte 70967040
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8764
# Exec time      1      2s    43us    21ms   201us   839us   466us    80us
# Lock time      2    21ms       0     2ms     2us     1us    29us     1us
# Rows sent      2   8.56k       1       1       1       1       0       1
# Rows examine   0   8.56k       0       1    1.00    0.99    0.01    0.99
# Bytes sent     0 607.66k      71      71      71      71       0      71
# Query size     2   1.09M     130     130     130     130       0     130
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0   8.56k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 8755 more
# Hosts        localhost
# Start        2022-07-10... (1/0%), 2022-07-10... (1/0%)... 8762 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  #################
#   1ms  ###
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'registrations'\G
#    SHOW CREATE TABLE `isucholar`.`registrations`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) FROM `registrations` WHERE `user_id` = '01FF6J8XX56T1MX81ADVB6VGF6' AND `course_id` = '01G7KHSK73RP5109MEKNT4BVB3'\G

# Query 20: 139.14 QPS, 0.03x concurrency, ID 0x0CE2A86226457A4A9046E173DE8DA5AA at byte 42884098
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-07-10T07:57:10 to 2022-07-10T07:58:13
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8766
# Exec time      1      2s    39us    15ms   184us   725us   437us    73us
# Lock time      2    22ms       0     2ms     2us     1us    27us     1us
# Rows sent      2   8.56k       0       1    1.00    0.99    0.01    0.99
# Rows examine   0   8.56k       0       1    1.00    0.99    0.01    0.99
# Bytes sent     0 873.15k      84     102  102.00   97.36    0.19   97.36
# Query size     1 701.96k      82      82      82      82       0      82
# Bytes receiv   0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Created tmp    0       0       0       0       0       0       0       0
# Errno          0       0       0       0       0       0       0       0
# Read first     0       0       0       0       0       0       0       0
# Read key       0   8.56k       1       1       1       1       0       1
# Read last      0       0       0       0       0       0       0       0
# Read next      0       0       0       0       0       0       0       0
# Read prev      0       0       0       0       0       0       0       0
# Read rnd       0       0       0       0       0       0       0       0
# Read rnd nex   0       0       0       0       0       0       0       0
# Sort merge p   0       0       0       0       0       0       0       0
# Sort range c   0       0       0       0       0       0       0       0
# Sort rows      0       0       0       0       0       0       0       0
# Sort scan co   0       0       0       0       0       0       0       0
# String:
# Databases    isucholar
# End          2022-07-10... (2/0%), 2022-07-10... (2/0%)... 8762 more
# Hosts        localhost
# Start        2022-07-10... (2/0%), 2022-07-10... (1/0%)... 8763 more
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ##############
#   1ms  ##
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucholar` LIKE 'courses'\G
#    SHOW CREATE TABLE `isucholar`.`courses`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT `status` FROM `courses` WHERE `id` = '01G7KHSK73RP5109MEKNT4BVB3' FOR SHARE\G
